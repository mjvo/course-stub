<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>{{ or .Page.Title .Site.Title }}</title>
    {{ with $.Param "description" }}<meta name="description" content="{{ . }}">{{ end }}
    {{ with .Site.Author.name }}<meta name="author" content="{{ . }}">{{ end }}
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    {{ hugo.Generator }}
    <!-- Theme used for presentation -->
    {{ block "layout" . }}{{ end }}
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    {{ if or (in .Site.Params.classes "feature-math") (in .Params.classes "feature-math") -}}
      {{- if not (or (in .Site.Params.classes "feature-nomath") (in .Params.classes "feature-nomath") ) -}}
      <!-- for KaTeX -->
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha256-tn6hZ2YGDv0w1/DaFL4MiUoXuAVclrtFZs13ch3TB9M=" crossorigin="anonymous">
      <script src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha256-1qhJwAgsSPVSSjlQVTewHS49eaoAbOz651dveUANVBI=" crossorigin="anonymous"></script>
      <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" integrity="sha256-oEuQVLwO5Ii6subChtLbrY5gx7NDRU+UJJ9jvvau+FI=" crossorigin="anonymous"></script>
      {{- end -}}
  {{- end -}}
    <!-- https://github.com/xaprb/story/ -->
    <script src='{{ "remark/js/story.js" | relURL }}'></script>
    {{- partial "custom_css.html" . }}
  </head>
  <body class=" {{ with .Section }}section-{{ . }}{{ end }} page-kind-{{ .Kind }} is-page-{{ .IsPage }} {{ with .Site.Params.classes }}{{ range . }} {{ . }}{{ end }}{{ end }}{{ with .Params.classes }}{{ range . }} {{ . }}{{ end }}{{ end }}">
    <main role="main">
      {{ block "main" . }}
      {{ end }}
    </main>
    {{ if (in .Site.Params.course.plugins "p5js-widget") -}}
    <script src="//toolness.github.io/p5.js-widget/p5-widget.js"></script>
    {{- end -}}
  </body>
</html>